<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Birthday Puzzle</title>
  <style>
    body {
      background: linear-gradient(to right, #ffecd2, #fcb69f);
      font-family: 'Comic Sans MS', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      height: 100vh;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    .section { display: none; text-align: center; }
    button {
      margin: 10px;
      padding: 10px 20px;
      background-color: #ff9f1c;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
    }
    input {
      padding: 10px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    .clue-box {
      border: 2px dashed #555;
      padding: 10px;
      margin: 10px auto;
      width: 250px;
      background-color: #fff4e6;
      display: none;
    }
    .puzzle-box {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .number-btns button {
      margin: 5px;
      padding: 10px 15px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <div class="section" id="start" style="display:block">
    <h2>🎉 Congrats on finding the hint!</h2>
    <button onclick="next('riddle')">Press to Continue</button>
  </div>

  <div class="section" id="riddle">
    <p>I speak without a mouth and hear without ears.<br />I have nobody, but I come alive with wind.<br /><strong>What am I?</strong></p>
    <input id="riddleAnswer" placeholder="Your answer..." />
    <button onclick="checkRiddle()">Submit</button>
  </div>

  <div class="section" id="clues">
    <div class="puzzle-box" id="puzzle1">
      <p>Tap in rainbow order: Red, Orange, Yellow</p>
      <div>
        <button onclick="tapColor('red')">Red</button>
        <button onclick="tapColor('yellow')">Yellow</button>
        <button onclick="tapColor('orange')">Orange</button>
      </div>
    </div>
    <div class="clue-box" id="clue1">Clue 1: It's sweet 🍬</div>

    <div class="puzzle-box" id="puzzle2">
      <p>What is 5 + 3?</p>
      <input id="mathAnswer" type="number" />
      <button onclick="checkMath()">Submit</button>
    </div>
    <div class="clue-box" id="clue2">Clue 2: Made with fruit 🍌</div>

    <div class="puzzle-box" id="puzzle3">
      <p>Tap the boxes in this order: 🟥 🟩 🟦</p>
      <div>
        <button onclick="tapPattern(1)">🟥</button>
        <button onclick="tapPattern(2)">🟦</button>
        <button onclick="tapPattern(3)">🟩</button>
      </div>
    </div>
    <div class="clue-box" id="clue3">Clue 3: You've tried it! 😋</div>

    <div class="puzzle-box" id="puzzle4">
      <p>Tap numbers in descending order: 5, 9, 3, 7</p>
      <div class="number-btns">
        <button onclick="tapNumber(9)">9</button>
        <button onclick="tapNumber(7)">7</button>
        <button onclick="tapNumber(5)">5</button>
        <button onclick="tapNumber(3)">3</button>
      </div>
    </div>
    <div class="clue-box" id="clue4">Clue 4: 🍌🍞</div>

    <input id="password" placeholder="Enter password..." />
    <button onclick="checkPassword()">Submit</button>
  </div>

  <div class="section" id="video">
    <iframe id="yt" width="0" height="0" src="https://www.youtube.com/embed/V8cP89V5UoM?autoplay=1&mute=1" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>
    <p id="finalHint" style="display:none; font-size: 20px; margin-top: 20px;"><strong>Go to your sister.</strong></p>
  </div>

  <script>
    const correctOrder = ['red', 'orange', 'yellow'];
    let userOrder = [];
    const patternOrder = [1, 3, 2];
    let tappedPattern = [];
    let tappedNums = [];
    const correctNums = [9, 7, 5, 3];

    function next(id) {
      document.querySelectorAll('.section').forEach(el => el.style.display = 'none');
      document.getElementById(id).style.display = 'block';
    }

    function checkRiddle() {
      const ans = document.getElementById('riddleAnswer').value.trim().toLowerCase();
      if (ans === 'echo') next('clues');
    }

    function tapColor(color) {
      userOrder.push(color);
      if (userOrder.length === 3) {
        if (JSON.stringify(userOrder) === JSON.stringify(correctOrder)) {
          document.getElementById('clue1').style.display = 'block';
          document.getElementById('puzzle2').style.display = 'flex';
        }
      }
    }

    function checkMath() {
      const val = parseInt(document.getElementById('mathAnswer').value);
      if (val === 8) {
        document.getElementById('clue2').style.display = 'block';
        document.getElementById('puzzle3').style.display = 'flex';
      }
    }

    function tapPattern(val) {
      tappedPattern.push(val);
      if (tappedPattern.length === 3) {
        if (JSON.stringify(tappedPattern) === JSON.stringify(patternOrder)) {
          document.getElementById('clue3').style.display = 'block';
          document.getElementById('puzzle4').style.display = 'flex';
        }
      }
    }

    function tapNumber(n) {
      tappedNums.push(n);
      if (tappedNums.length === 4) {
        if (JSON.stringify(tappedNums) === JSON.stringify(correctNums)) {
          document.getElementById('clue4').style.display = 'block';
        }
      }
    }

    function checkPassword() {
      const input = document.getElementById('password').value.trim().toLowerCase().replace(/\s/g, '');
      if (input === 'bananabread') {
        next('video');
        const iframe = document.getElementById('yt');
        iframe.width = window.innerWidth;
        iframe.height = window.innerHeight;
        setTimeout(() => {
          iframe.style.display = 'none';
          document.getElementById('finalHint').style.display = 'block';
        }, 18000);
      }
    }
  </script>
</body>
</html>
