<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Advik's Birthday Quest</title>
  <style>
    body {
      font-family: 'Comic Sans MS', sans-serif;
      background: linear-gradient(to bottom right, #f6d365, #fda085);
      text-align: center;
      padding: 20px;
      color: #222;
    }
    .hidden { display: none; }
    .puzzle-box, .clue-box, #password-box, #final-screen { margin: 20px auto; padding: 20px; border: 3px dashed #444; width: 80%; background: #fff7e6; border-radius: 12px; }
    button { padding: 10px 20px; font-size: 1em; background: #ffcc70; border: none; border-radius: 8px; cursor: pointer; }
    input { padding: 8px; font-size: 1em; border-radius: 5px; border: 2px solid #888; }
  </style>
</head>
<body>

<div id="start-screen">
  <h1>üéâ Congrats on finding the hint! üéâ</h1>
  <p>Press to continue...</p>
  <button id="start-btn">Start</button>
</div>

<div id="riddle-screen" class="hidden">
  <h2>Riddle:</h2>
  <p>I speak without a mouth and hear without ears.<br>I have nobody, but I come alive with wind.<br><strong>What am I?</strong></p>
  <input type="text" id="riddle-answer">
  <button id="riddle-submit">Submit</button>
  <p id="riddle-msg"></p>
</div>

<div id="puzzle-screen" class="hidden">
  <h2>üîí Clues Locked üîí</h2>
  <div id="clues">
    <div class="clue-box" id="clue1" style="display:none;">Clue 1: It‚Äôs sweet</div>
    <div class="clue-box" id="clue2" style="display:none;">Clue 2: Made with fruit</div>
    <div class="clue-box" id="clue3" style="display:none;">Clue 3: You‚Äôve tried it</div>
    <div class="clue-box" id="clue4" style="display:none;">Clue 4: üçåüçû</div>
  </div>

  <div class="puzzle-box" id="puzzle1-box">
    <p>Arrange: 1, 3, 5 in descending order</p>
    <input type="text" id="puzzle1-input" placeholder="example: 5,3,1">
    <button class="puzzle-submit" data-num="1">Done</button>
    <p class="msg"></p>
  </div>

  <div class="puzzle-box hidden" id="puzzle2-box">
    <p>Next even number in this sequence: 2, 4, 6, ?</p>
    <input type="text" id="puzzle2-input">
    <button class="puzzle-submit" data-num="2">Done</button>
    <p class="msg"></p>
  </div>

  <div class="puzzle-box hidden" id="puzzle3-box">
    <p>Which is the odd one out: apple, banana, car, orange?</p>
    <input type="text" id="puzzle3-input">
    <button class="puzzle-submit" data-num="3">Done</button>
    <p class="msg"></p>
  </div>

  <div class="puzzle-box hidden" id="puzzle4-box">
    <p>Unscramble: ananabdaerb</p>
    <input type="text" id="puzzle4-input">
    <button class="puzzle-submit" data-num="4">Done</button>
    <p class="msg"></p>
  </div>
</div>

<div id="password-box" class="hidden">
  <h3>Enter the Password:</h3>
  <input type="text" id="password-input">
  <button id="password-submit">Submit</button>
  <p id="password-msg"></p>
</div>

<div id="final-screen" class="hidden">
  <h2>üé¨ Video time!</h2>
  <div id="video-container"></div>
  <p id="final-clue" class="hidden">Final Hint: <strong>Go to your sister</strong></p>
</div>

<script>
const startBtn = document.getElementById('start-btn');
const startScreen = document.getElementById('start-screen');
const riddleScreen = document.getElementById('riddle-screen');
const puzzleScreen = document.getElementById('puzzle-screen');

startBtn.onclick = () => {
  startScreen.classList.add('hidden');
  riddleScreen.classList.remove('hidden');
};

document.getElementById('riddle-submit').onclick = () => {
  let answer = document.getElementById('riddle-answer').value.toLowerCase().replace(/\s+/g, '');
  if (answer === 'echo') {
    riddleScreen.classList.add('hidden');
    puzzleScreen.classList.remove('hidden');
    document.getElementById('puzzle1-box').classList.remove('hidden');
  } else {
    document.getElementById('riddle-msg').textContent = 'Try again...';
  }
};

function validatePuzzle(num) {
  switch(num) {
    case 1:
      return document.getElementById('puzzle1-input').value.replace(/\s+/g, '') === '5,3,1';
    case 2:
      return document.getElementById('puzzle2-input').value.trim() === '8';
    case 3:
      return document.getElementById('puzzle3-input').value.toLowerCase().trim() === 'car';
    case 4:
      return document.getElementById('puzzle4-input').value.toLowerCase().replace(/\s+/g, '') === 'bananabread';
    default:
      return false;
  }
}

function showNextPuzzle(num) {
  if (num < 4) {
    document.getElementById(`puzzle${num+1}-box`).classList.remove('hidden');
  } else {
    document.getElementById('password-box').classList.remove('hidden');
  }
  document.getElementById(`clue${num}`).style.display = 'block';
  document.getElementById(`puzzle${num}-box`).classList.add('hidden');
}

document.querySelectorAll('.puzzle-submit').forEach(btn => {
  btn.onclick = () => {
    const num = parseInt(btn.dataset.num);
    if (validatePuzzle(num)) {
      showNextPuzzle(num);
    } else {
      btn.nextElementSibling.textContent = '‚ùå Incorrect, try again!';
    }
  };
});

document.getElementById('password-submit').onclick = () => {
  const val = document.getElementById('password-input').value.toLowerCase().replace(/\s+/g, '');
  if (val === 'bananabread') {
    document.getElementById('password-msg').textContent = '';
    document.getElementById('puzzle-screen').classList.add('hidden');
    document.getElementById('password-box').classList.add('hidden');
    document.getElementById('final-screen').classList.remove('hidden');
    playVideo();
  } else {
    document.getElementById('password-msg').textContent = '‚ùå Wrong password';
  }
};

const ytVideoID = 'V8cP89V5UoM';
function playVideo() {
  document.getElementById('video-container').innerHTML = `
    <iframe width="100%" height="360" src="https://www.youtube.com/embed/${ytVideoID}?autoplay=1&controls=0&rel=0&modestbranding=1&playsinline=1" frameborder="0" allowfullscreen></iframe>
  `;
  setTimeout(() => {
    document.getElementById('video-container').innerHTML = '';
    document.getElementById('final-clue').classList.remove('hidden');
  }, 18000);
}
</script>

</body>
</html>
